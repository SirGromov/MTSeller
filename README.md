# MTSeller
Простой Minecraft плагин, позволяющий проще настраивать магазин сервера. 
Разработано для MineTown. 

Механика плагина:
При обновлении, случайно выбираются товары для каждой категории - ассортимент. 
Каждому товару соответствует цена из выбранного промежутка. 
Один игрок может продать только ограниченное число одной категории товара - ограничение.
Ограничения и ассортимент обновляются один раз в указанный период.
При продаже, у игрока забираются предметы и за них начисляется валюта, путем экономического плагина.
Есть три режима продажи:
- Одиночный режим, путем нажатия ЛКМ, продается одна единица предмета
- Стаковый режим, путем нажатия ПКМ, продается ровно стак предмета
- Множественный режим, путем нажатия СКМ, продаются все предметы данного типа в инветаре игрока
При попытке использовать стаковый режим, не имея стака предметов, будет выбран автоматически одиночный режим.
При попытке продать предмет из категории, ограничение которой уже заполнено, продажа не произойдет.

Значения конфига:
- categories - массив id категорий, который состоит из:
  - name - отображаемое имя категории
  - limit - ограничение на продажу в категории
  - slots - выделенные под категорию слоты
  - entries - массив игровых id предметов, который состоит из:
    - price_start - начало промежутка цены
    - price_end - конец промежутка цены

- seller_settings - настройки плагина
  - update_period - период обновления ассортимента
  - limit_message - сообщение, посылаемое игроку при заполненном ограничении
  - title - заголовок меню скупщика
  - gui_size - размер меню скупщика. Должно быть кратно 9.
  - gui_schema - расположение предметов в меню, строка, состоящая из:
    - F - filler, заполнитель пустот
    - E - entry, место под товар. Должно быть столько же, сколько суммарно слотов выделено под все категории.
    - U - update, предмет, сообщающий, когда будет обновлены ассортимент и ограничения
    - C - close, предмет, при нажатии на который происходит закрытие меню.
  - entry_lore - подпись предмета товара. Заполнители %s чувствительны к позиции
  - update_material - игровой id предмета, который будет типом update
  - update_name - имя предмета, который будет типом update
  - update_lore - подпись предмета, который будет типом update. Заполнители %s чувствительны к позиции
  - close_material - игровой id предмета, который будет типом close
  - close_name - имя предмета, который будет типом close
  - filler_material - игровой id предмета, который будет типом filler
  - lack_items_message - сообщение, которое отправляется игроку при недостатке предметов
  - sell_items_message - сообщение, которое отправляется игроку при продаже предметов. Заполнители %s чувствельны к позиции
  - update_sell_message - сообщение, посылаемое всем игрокам при обновлении ассортимента и ограничений
  - eco_command - команда выдачи валюты вашего жкономического плагина. Заполнители %s чувствельны к позиции
